<section>
  <!-- Card Section (70%) -->
  
  <div class="main-section w-7/10 mt-4">
    <div class="flex items-center justify-between"> 
      <h2 class="heading">Ticket List</h2>
      <button class="text-white bg-green-700 px-4 py-1 rounded-md" (click)="addTicketForm()">
        New Ticket
      </button>
    </div>
    <!-- Looping through employee list and creating cards dynamically -->
    <div class="grid grid-cols-3 gap-2">
      <div class="p-2">
        <div
          class="card-div bg-white shadow-md rounded-lg overflow-hidden"
          style="width: 280px; height: 260px"
        >
          <div class="card-header bg-blue-500 p-4 flex items-center gap-3">
            <i class="fa-solid fa-user text-white text-3xl"></i>
            <h2 class="text-white text-lg">1212</h2>
          </div>
          <div class="card-body p-4">
            <div class="flex flex-col gap-3">
              <div class="flex flex-row items-center gap-2">
                <i class="fa-solid fa-phone"></i>
                <p>8978767546</p>
              </div>
              <div class="flex flex-row items-center gap-2">
                <i class="fa-solid fa-envelope"></i>
                <p>hello</p>
              </div>
              <div class="flex flex-row items-center gap-2">
                <i class="fa-solid fa-user-shield"></i>
                <p>eriweu</p>
              </div>
              <div class="flex flex-row items-center gap-2">
                <i class="fa-solid fa-code"></i>
                <p>sdjkhfk</p>
              </div>
            </div>
          </div>
          <div class="cart-footer">
            <button class="edit-btn">Edit</button>
            <button class="delete-btn">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Form Section (30%) -->
</section>

<div
  *ngIf="addTicketPopup"
  class="fixed inset-0 flex items-center border-none overflow-auto justify-center bg-black bg-opacity-50 z-50"
>
  <div
    class="emp-form border border-black rounded-md overflow-hidden w-96 h-auto bg-white"
  >
    <div class="relative">
      <h2 class="bg-green-500 p-1 px-5 text-white">Add Ticket</h2>
      <button class="absolute top-1 right-5" (click)="closePopup()">X</button>
    </div>
    <form [formGroup]="ticketForm" (submit)="addTicket()">
      <div class="p-5 flex flex-col gap-3 flex-grow">
        <div class="flex flex-col gap-1">
          <label for="">Select Department</label>
          <select formControlName="deptId" class="w-full outline-none bg-transparent rounded-md border border-gray-300 py-1">
            <option value="">Select All</option>
            <option *ngFor="let dept of deptList$ | async" [value]="dept.deptId">{{ dept.deptName }}</option>
          </select>
        </div>
        <div class="flex flex-col gap-1">
          <label for="">Select Severity</label>
          <select formControlName="severity" class="w-full outline-none bg-transparent rounded-md border border-gray-300 py-1">
            <option value="">Select All</option>
            <option value="Low">Low</option>
            <option value="Medium">Medium</option>
            <option value="High">High</option>
            
          </select>
        </div>

        <div class="flex flex-col gap-1">
          <label for="">Select Severity</label>
          <textarea rows="3" formControlName="requestDetails" placeholder="enter details" class="px-4 outline-none border border-gray-700 rounded-md"></textarea>
        </div>
        
        
        
        
        <div class="flex flex-row gap-5 justify-center mt-5">
          <!-- <button class="reset-btn" type="button" >Reset</button> -->
          <button class="bg-green-700 px-4 py-1 rounded-md text-white" type="submit" >Save</button>
        </div>
      </div>
    </form>
  </div>
</div>
